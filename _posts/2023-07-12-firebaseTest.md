---
layout: post
categories: blog
title: UE5) 파이어베이스 사용 테스트
date: 2023-07-12
tags: [UE5,UnrealEngine,Android]
toc:  true
---

파이어베이스를 트라이 해 본다.

## 1. 파이어베이스 플러그인 활성화
플러그인에 파이어베이스를 검색해서 활성화 하자.   
구글 클라우드 메시징은 더 이상 사용하지 않는다. 해당 플러그인은 찾아서 끄도록 하자.
<br><br><br>
## 2. 엔진 설정파일 수정
DefaultEngine.ini을 열고 가장 아랫줄에 다음을 추가해주자.
```
[Firebase]
FirebaseEnabled=True
```
<br><br><br>
## 3. 파이어베이스 계정 등록 

파이어베이스 홈페이지 가서 대충 등록하고, 프로젝트를 만들고 앱을 추가하면 되는데

중요한것은 여기서 추가하는 앱의 패키지 이름과

UE에서의 앱 패키지 이름을 일치시켜야 한다.
```
  프로젝트세팅 -> Android -> AndroidPackageName
```

이후에 계속 진행하다보면,

google-services.json 파일을 다운받을 수 있는 부분이 있는데.

요 파일을 내 어플리케이션에 포함시켜줘야 구글서비스를 이용 가능하다.
<br><br><br>
## 4. google-services.json 추가

그렇다면, 해당 파일을 어디다 넣어야 하냐면,

```
Intermediate\Android\내가 선택한 아키텍쳐\google-services.json
```
요렇게 위치하게 만들어주면 된다.

만약 해당 폴더가 없을 경우

패키징 한번 돌려주고 오면 생겨있다(패키징 성공 여부는 중요하지 않습니다)

만약 패키징이 실패한 경우, 로그를 보면 google-services.json 파일 문제로 실패했을 확률이 높으니, 정상이다.
<br><br><br>

## 5. apk설치
안드로이드 위에 만든 앱을 설치합니다.
<br><br><br>
## 7. 메시징 테스트
- 파이어베이스 콘솔로 이동해 왼쪽 메뉴 리스트들 중, Messaging 텝을 눌러 이동합니다.
- 첫번째 캠페인 만들기에서 원하는 메시지 타입을 선택합니다.
- 메시지 내용 및 각종 설정을 합니다.
- 검토버튼을 눌러 메시지를 예약합니다.
- 잠시 기다린 후 내 앱에서 메시지가 도착했는지 확인합니다.
  
-------------------------------------
# 결과
메시지가 들어오는 경우도 있고 안 들어오는 경우도 있다.

요즘 휴대폰은 기본적으로 알림설정이 꺼져있으니 알림을 허용하고 다시 시도해본다.

메시지를 쏜지 한참 있다가 들어오긴 하는데, 그냥 운이었나? 두번째는 또 안되네

